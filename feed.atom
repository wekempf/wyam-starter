<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
	<link rel="self" href="http://wekempf.github.io/wyam-starter" />
	<id>http://wekempf.github.io/wyam-starter</id>
	<title>Wyam Starter</title>
	<rights>2017</rights>
	<updated>2017-02-09T22:10:28Z</updated>
	<subtitle>A static web site generated by Wyam.</subtitle>
	<entry>
		<link href="http://wekempf.github.io/wyam-starter/posts/gettingstarted" />
		<id>http://wekempf.github.io/wyam-starter/posts/gettingstarted</id>
		<title>Getting Started</title>
		<updated>2016-12-23T00:00:00Z</updated>
		<content>&lt;h1 id="getting-started"&gt;Getting Started&lt;/h1&gt;
&lt;p&gt;&lt;a href="http://wyam.io"&gt;Wyam&lt;/a&gt; is a "static content toolkit" based on Roslyn, the .NET compiler.
&lt;a href="http://github.com/wekempf/wyam-starter"&gt;This&lt;/a&gt; GitHub repository makes it easy to get started using
Wyam with &lt;a href="http://pages.github.com"&gt;GitHub Pages&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id="export-the-repo"&gt;Export the Repo&lt;/h2&gt;
&lt;p&gt;From a PowerShell prompt, execute the following (replacing 'blog' with another path for exporting to
if you prefer):&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-PowerShell"&gt;$dir='blog'; git clone git@github.com:wekempf/wyam-starter.git $dir; Remove-Item (Join-Path $dir '.git') -Recurse -Force
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This exports the repository to the directory you specify ('blog' in the example above).&lt;/p&gt;
&lt;h2 id="initialize-the-repo"&gt;Initialize the Repo&lt;/h2&gt;
&lt;p&gt;Change directories into the exported repo and execute the following commands:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-PowerShell"&gt;git init .
git add .
git commit -m "Initial creation"
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This initializes the directory as a git repo and checks all of the exported files into it.&lt;/p&gt;
&lt;h2 id="create-a-github-repo"&gt;Create a GitHub Repo&lt;/h2&gt;
&lt;p&gt;Follow the &lt;a href="https://help.github.com/articles/create-a-repo/"&gt;directions&lt;/a&gt; to create a repository on GitHub.
Do not select 'Initialize this repository with a README.' We want an empty repo to be created. Once the
repository is created follow the instructions under '…or push an existing repository from the command line'
to push the contents of the local repository to the GitHub repository.&lt;/p&gt;
&lt;h2 id="create-a-personal-access-token"&gt;Create a Personal Access Token&lt;/h2&gt;
&lt;p&gt;In order for the build scripts to be able to push the results to the GitHub Pages associated with your
repository we'll need to have a "personal access token", as per the &lt;a href="https://help.github.com/articles/creating-an-access-token-for-command-line-use/"&gt;documentation&lt;/a&gt;.
Under Scopes select Repo to provide full acccess to the repository from the build scripts. Be sure to copy
the generated token to somewhere safe. We'll encrypt it for use in our AppVeyor powered build later on.&lt;/p&gt;
&lt;h2 id="create-an-appveyor-build"&gt;Create an AppVeyor build&lt;/h2&gt;
&lt;p&gt;If you don't already have an &lt;a href="http://appveyor.com"&gt;AppVeyor&lt;/a&gt; account, create one. Add a project in AppVeyor
for your GitHub repo.&lt;/p&gt;
&lt;h2 id="encrypt-access-token"&gt;Encrypt Access Token&lt;/h2&gt;
&lt;p&gt;Go to &lt;a href="https://ci.appveyor.com/tools/encrypt"&gt;https://ci.appveyor.com/tools/encrypt&lt;/a&gt; to encrypt the Personal Access Token you created earlier. Modify
the appveyor.yml file in the root of the repository, replacing the encrypted GitHubPersonalAccessToken with
the encrypted value you just generated.&lt;/p&gt;
&lt;h2 id="modify-build-files"&gt;Modify Build Files&lt;/h2&gt;
&lt;p&gt;Modify the build.cake file in the root of the repository, setting the gitPagesRepo to point at your own GitHub
repository. Note that you &lt;strong&gt;must&lt;/strong&gt; use https and not ssh. In addition, you need to specify your username and
the access token. For example, if the https url is &lt;code&gt;https://github.com/user/blog.git&lt;/code&gt; you'll need to
specify &lt;code&gt;"https://user:" + EnvironmentVariable("GitHubPersonalAccessToken") + "@github.com/user/blog"&lt;/code&gt; in
the build.cake file.&lt;/p&gt;
&lt;p&gt;You'll also need to modify appveyor.yml to use your name and email address for commits.&lt;/p&gt;
&lt;h2 id="commit-and-push-the-changes"&gt;Commit and Push the Changes&lt;/h2&gt;
&lt;p&gt;Commit and push your changes to the GitHub repository using the following command:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-PowerShell"&gt;git add .
git commit -m "Modified build scripts"
git push
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This should kick off a build on AppVeyor automatically, and if the build scripts were properly Modified
this will publish the results on your repository's GitHub Pages set.&lt;/p&gt;</content>
		<summary>A static web site generated by Wyam.</summary>
	</entry>
</feed>